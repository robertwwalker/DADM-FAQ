{
  "hash": "8dd32d169ad6150474b9ec4d82bec8a8",
  "result": {
    "markdown": "---\ntitle: 'TT: Wealth and Income'\nauthor: 'Robert W. Walker'\ndate: '2021-02-08'\nimage: \"image.png\"\ncategories:\n  - R\n  - tidyTuesday\n  - tidyverse\ntags:\n  - tidyTuesday\nbibliography: \"bibliography.bib\"\nnocite: |\n     @*\nformat: \n   html:\n     code-fold: true\n     code-copy: hover\n     code-block-border-left: true\n     df-print: paged\n     fig-format: retina\n     footnotes-hover: true\n     html-math-method: katex\n     toc: true\n     toc-title: Navigation\n---\n\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_57638760cd56770205466fd322191291'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(hrbrthemes)\n```\n:::\n\n\n![tidyTuesday-Screenshot](img/TTScreen.png)\n\ntidyTuesday for the week of February 8, 2021 brings data from the US Census and the Urban Institute together to think about income, wealth, and racial inequality in these and other important economic indicators.  There is a lot of data that they make available to accompany the nine charts about wealth inequality that they reported [here](https://apps.urban.org/features/wealth-inequality-charts/).  There is considerable variation in the scope and coverage of the various datasets;  I will start by loading the *ten* datasets.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_f81029c1bf18fc25f41d430df442bc3c'}\n\n```{.r .cell-code}\nlifetime_earn <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/lifetime_earn.csv')\nstudent_debt <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/student_debt.csv')\nretirement <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/retirement.csv')\nhome_owner <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/home_owner.csv')\nrace_wealth <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/race_wealth.csv')\nincome_time <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/income_time.csv')\nincome_limits <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/income_limits.csv')\nincome_aggregate <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/income_aggregate.csv')\nincome_distribution <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/income_distribution.csv')\nincome_mean <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-09/income_mean.csv')\n```\n:::\n\n\n## Lifetime Earnings\n\nThere is not all that much data here.  Six values for the cross-tabulation of race and gender.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-3_a187311990e90d69cbfdb47581214cdd'}\n\n```{.r .cell-code}\nlifetime_earn %>% \n  ggplot() + \n  aes(x=race, y=lifetime_earn/1000000, fill=race) + \n  geom_col() + coord_flip() + \n  facet_wrap(vars(gender)) + \n  scale_fill_viridis_d() + theme_ipsum_tw() + \n  labs(y=\"Lifetime Earnings [in millions]\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nCombining the categories offers a considerably improved visual in my view.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-4_589960f57c5a669ee311eb563eb47df1'}\n\n```{.r .cell-code}\nlifetime_earn %>% \n  mutate(Categ = paste(race,gender,sep=\":\")) %>% \n  ggplot() + \n  aes(x=Categ, y=lifetime_earn/1000000, fill=race, color=race, label=lifetime_earn/1000000, alpha=0.2) + \n  geom_col() + geom_text(size=3, color=\"white\", alpha=1) + \n  coord_flip() + scale_color_ipsum() + scale_fill_ipsum() + \n  theme_modern_rc() + \n  labs(y=\"Lifetime Earnings [in millions]\", x=\"Race:Gender\") + \n  guides(fill=FALSE, color=FALSE, alpha=FALSE)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='index_cache/html/unnamed-chunk-5_3d28a0dd7220f5a25b7bc04653881038'}\n\n```{.r .cell-code}\nlifetime_earn %>% \n  mutate(Categ = paste(gender,race,sep=\":\")) %>% \n  ggplot() + \n  aes(x=Categ, y=lifetime_earn/1000000, fill=race, color=race, label=lifetime_earn/1000000, alpha=0.2) + \n  geom_col() + geom_text(size=3, color=\"white\", alpha=1) + \n  coord_flip() + scale_color_ipsum() + scale_fill_ipsum() + \n  theme_modern_rc() + \n  labs(y=\"Lifetime Earnings [in millions]\", x=\"Race:Gender\") +\n  guides(fill=FALSE, color=FALSE, alpha=FALSE)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Student Debt\n\nThe student debt data is not super extensive.  At three year intervals, we see growth across categories but higher levels and rates are notable by racial category.  A line plot is a good place to start.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-6_f77908d0fe36cd4d87899007b562a0d4'}\n\n```{.r .cell-code}\nstudent_debt %>% ggplot() + \n  aes(x=year, y=loan_debt_pct, color=race) + \n  geom_line() + geom_point(size=3) + \n  scale_color_viridis_d() + \n  labs(y=\"Share of Families with Student Loan Debt\") + \n  theme_ipsum_rc()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nA faceted bar plot.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-7_e8d524facffef8908becc59fc5199adb'}\n\n```{.r .cell-code}\nstudent_debt %>% ggplot() + \n  aes(x=race, y=loan_debt_pct, fill=race) + \n  geom_col() + scale_color_viridis_d() + \n  labs(y=\"Share of Families with Student Loan Debt\") + \n  guides(fill=FALSE) + theme_ipsum_rc() + \n  coord_flip() + facet_wrap(vars(year))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Retirement\n\nLiquid retirement savings offer an interesting basis for comparison.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-8_bb0276d7e5ecad7dcec284a15b019983'}\n\n```{.r .cell-code}\nretirement %>% ggplot() + \n  aes(x=year, y=retirement, color=race) + \n  geom_line() + geom_point() + \n  scale_color_ipsum() + theme_ipsum_rc() + \n  labs(y=\"Liquid Retirment Savings\", color=\"Race\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n# References\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-9_e798ca53cb401555c2041da6a08d7499'}\n\n```{.r .cell-code}\nknitr::write_bib(names(sessionInfo()$otherPkgs), file=\"bibliography.bib\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}